<!-- <pre>{{ include | jsonify }}</pre> -->
<tr>
  {% assign required = false %}
  {% for req in include.required %}
    {% if prop[0] == req %}
      {% assign required = true %}
    {% endif %}
  {% endfor %}
  {% capture PROP_NAME %}{{include.name}}{% endcapture %}
  {% if required %}
    {% capture PROP_NAME %}<strong>{{PROP_NAME}}</strong>{% endcapture %}
  {% endif %}
  {% if include.pattern %}
    {% capture PROP_NAME %}<i>{{PROP_NAME}}</i>&nbsp;&nbsp;<small class="text-secondary">(pattern)</small>{% endcapture %}
  {% endif %}
  {% if include.name != "*" %}
    <td>{{PROP_NAME}}</td>
  {% endif %}
  {% if include.data contains "oneOf" %}
    {% assign oneOf = include.data.oneOf %}
    {% for data in oneOf %}
      {% capture id %}{{include.id}}{{forloop.index0}}{% endcapture %}
      {% if data contains "properties" %}
        {% for propData in data.properties %}
          <!-- XXX: we should use a collapsible element instead -->
          <tr class="sub-object-property">
            <!-- PROPERTY data <pre>{{ propData | jsonify }}</pre> -->
            {% assign propDataItem = propData[1] %}
            {% assign propName = propData[0] %}
            {% if data contains "description" or propDataItem contains "description" %}
              <td>
                <span class="text-secondary">{{propName}}:&nbsp;</span>
                {% include json_schema_item.html data=propDataItem id=id %}
              </td>
              <td>
                {% if data contains "description" %}
                  <span class="text-secondary"><small>{{ data.description | liquefy}}</small></span>
                {% else if propDataItem contains "description" %}
                  <span class="text-secondary"><small>{{ propDataItem.description | liquefy}}</small></span>
                {% endif %}
              </td>
            {% else %}
              <td colspan="2">
                <span class="text-secondary">{{propName}}:&nbsp;</span>
                {% include json_schema_item.html data=propDataItem id=id %}
              </td>
            {% endif %}
          </tr>
        {% endfor %}
      {% else if data contains "description" %}
        <td>
          {% include json_schema_item.html data=data id=id %}
        </td>
        <td>
          <span class="text-secondary"><small>{{data.description | liquefy}}</small></span>
        </td>
      {% else %}
        <td colspan="2">
          {% include json_schema_item.html data=data id=id %}
        </td>
      {% endif %}
      {% if forloop.last == false %}
        </tr>
        <tr>
          <td></td>
          <td colspan="2">
            <strong>OR</strong>
          </td>
        </tr>
        <tr>
          <td></td>
      {% endif %}
    {% endfor %}
  {% else %}
    {% if include.has_description %}
    <td>
      {% include json_schema_item.html data=include.data id=include.id %}
    </td>
    <td>
      <span class="text-secondary"><small>{{include.description | liquefy}}</small></span>
    </td>
    {% else %}
    <td colspan="2">
      {% include json_schema_item.html data=include.data id=include.id %}
    </td>
    {% endif %}
  {% endif %}
</tr>
{% if INCLUDE_AFTER != "" %}
  {{ INCLUDE_AFTER }}
{% endif %}
{% capture INCLUDE_AFTER %}{% endcapture %}
