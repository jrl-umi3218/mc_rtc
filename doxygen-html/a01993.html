<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>mc_observers::BodySensorObserver Struct Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css">
<link href="doxygen.css" rel="stylesheet" type="text/css">
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/SVG"],
});
</script>
<script src="MathJax/MathJax.js"></script>
<!-- To use the latest MathJax version instead, you can use: -->
<!--<script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js"></script>-->
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
</head><body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('a01993.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-types">Protected Types</a> &#124;
<a href="#pro-attribs">Protected Attributes</a> &#124;
<a href="a01990.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">mc_observers::BodySensorObserver Struct Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;mc_observers/BodySensorObserver.h&gt;</code></p>
<div class="dynheader">
Inheritance diagram for mc_observers::BodySensorObserver:</div>
<div class="dyncontent">
 <div class="center">
  <img src="a01993.png" usemap="#mc_5Fobservers::BodySensorObserver_map" alt=""/>
  <map id="mc_5Fobservers::BodySensorObserver_map" name="mc_5Fobservers::BodySensorObserver_map">
<area href="a02009.html" title="State observation API. " alt="mc_observers::Observer" shape="rect" coords="0,0,221,24"/>
</map>
 </div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:aad52d430f0c328c986a14d2a8a9a7b17"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a01993.html#aad52d430f0c328c986a14d2a8a9a7b17">BodySensorObserver</a> (const std::string &amp;<a class="el" href="a02009.html#a5faf70047c2be78645564f90a8053bff">name</a>, double <a class="el" href="a02009.html#a862e1f350e7b57da34f15824d21d1d37">dt</a>, const <a class="el" href="a02197.html">mc_rtc::Configuration</a> &amp;config={})</td></tr>
<tr class="separator:aad52d430f0c328c986a14d2a8a9a7b17"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a23564250186a2e8780df9150945dad63"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a01993.html#a23564250186a2e8780df9150945dad63">reset</a> (const <a class="el" href="a01965.html">mc_control::MCController</a> &amp;ctl) override</td></tr>
<tr class="memdesc:a23564250186a2e8780df9150945dad63"><td class="mdescLeft">&#160;</td><td class="mdescRight">Resets the observer.  <a href="#a23564250186a2e8780df9150945dad63">More...</a><br /></td></tr>
<tr class="separator:a23564250186a2e8780df9150945dad63"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2a497aef03e071004c926032776ac520"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a01993.html#a2a497aef03e071004c926032776ac520">run</a> (const <a class="el" href="a01965.html">mc_control::MCController</a> &amp;ctl) override</td></tr>
<tr class="memdesc:a2a497aef03e071004c926032776ac520"><td class="mdescLeft">&#160;</td><td class="mdescRight">Determines the pose of the floating base.  <a href="#a2a497aef03e071004c926032776ac520">More...</a><br /></td></tr>
<tr class="separator:a2a497aef03e071004c926032776ac520"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa499d558eec971e714a924f1fb9d0722"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a01993.html#aa499d558eec971e714a924f1fb9d0722">updateRobots</a> (const <a class="el" href="a01965.html">mc_control::MCController</a> &amp;ctl, <a class="el" href="a02161.html">mc_rbdyn::Robots</a> &amp;realRobots) override</td></tr>
<tr class="memdesc:aa499d558eec971e714a924f1fb9d0722"><td class="mdescLeft">&#160;</td><td class="mdescRight">Update realRobots floating base from its estimated pose.  <a href="#aa499d558eec971e714a924f1fb9d0722">More...</a><br /></td></tr>
<tr class="separator:aa499d558eec971e714a924f1fb9d0722"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a40a80d57f8974b3af7d4f65df95161ab"><td class="memItemLeft" align="right" valign="top">const <a class="elRef" doxygen="https://jrl-umi3218.github.io/SpaceVecAlg/doxygen/HEAD/SpaceVecAlg.doxytag:https://jrl-umi3218.github.io/SpaceVecAlg/doxygen/HEAD/" href="https://jrl-umi3218.github.io/SpaceVecAlg/doxygen/HEAD/a00067.html#a259dde998fab6de957995eedfdb4d179">sva::PTransformd</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a01993.html#a40a80d57f8974b3af7d4f65df95161ab">posW</a> () const</td></tr>
<tr class="memdesc:a40a80d57f8974b3af7d4f65df95161ab"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get floating-base pose in the world frame.  <a href="#a40a80d57f8974b3af7d4f65df95161ab">More...</a><br /></td></tr>
<tr class="separator:a40a80d57f8974b3af7d4f65df95161ab"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a96afc25baaad80aa4c09d6619eb3be56"><td class="memItemLeft" align="right" valign="top">const <a class="elRef" doxygen="https://jrl-umi3218.github.io/SpaceVecAlg/doxygen/HEAD/SpaceVecAlg.doxytag:https://jrl-umi3218.github.io/SpaceVecAlg/doxygen/HEAD/" href="https://jrl-umi3218.github.io/SpaceVecAlg/doxygen/HEAD/a00067.html#afc16c15a4fbcc2d8cf5676551b74816d">sva::MotionVecd</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a01993.html#a96afc25baaad80aa4c09d6619eb3be56">velW</a> () const</td></tr>
<tr class="memdesc:a96afc25baaad80aa4c09d6619eb3be56"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get floating-base velocity in the world frame.  <a href="#a96afc25baaad80aa4c09d6619eb3be56">More...</a><br /></td></tr>
<tr class="separator:a96afc25baaad80aa4c09d6619eb3be56"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a164f25654c0fc7ef6d08e5c052260445"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a01993.html#a164f25654c0fc7ef6d08e5c052260445">addToLogger</a> (const <a class="el" href="a01965.html">mc_control::MCController</a> &amp;ctl, <a class="el" href="a02517.html">mc_rtc::Logger</a> &amp;) override</td></tr>
<tr class="memdesc:a164f25654c0fc7ef6d08e5c052260445"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add observer to the logger.  <a href="#a164f25654c0fc7ef6d08e5c052260445">More...</a><br /></td></tr>
<tr class="separator:a164f25654c0fc7ef6d08e5c052260445"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa36833218c888dbeee8d98e4994d43f1"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a01993.html#aa36833218c888dbeee8d98e4994d43f1">removeFromLogger</a> (<a class="el" href="a02517.html">mc_rtc::Logger</a> &amp;) override</td></tr>
<tr class="memdesc:aa36833218c888dbeee8d98e4994d43f1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Remove observer from logger.  <a href="#aa36833218c888dbeee8d98e4994d43f1">More...</a><br /></td></tr>
<tr class="separator:aa36833218c888dbeee8d98e4994d43f1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abf71106c03fdf82b9e342a51bd7f4ea6"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a01993.html#abf71106c03fdf82b9e342a51bd7f4ea6">addToGUI</a> (const <a class="el" href="a01965.html">mc_control::MCController</a> &amp;ctl, <a class="el" href="a02425.html">mc_rtc::gui::StateBuilder</a> &amp;) override</td></tr>
<tr class="memdesc:abf71106c03fdf82b9e342a51bd7f4ea6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add observer information the GUI.  <a href="#abf71106c03fdf82b9e342a51bd7f4ea6">More...</a><br /></td></tr>
<tr class="separator:abf71106c03fdf82b9e342a51bd7f4ea6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_a02009"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_a02009')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="a02009.html">mc_observers::Observer</a></td></tr>
<tr class="memitem:a0f9f2d8b07a93f2fe3b55e48406835d3 inherit pub_methods_a02009"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a02009.html#a0f9f2d8b07a93f2fe3b55e48406835d3">Observer</a> (const std::string &amp;<a class="el" href="a02009.html#a5faf70047c2be78645564f90a8053bff">name</a>, double <a class="el" href="a02009.html#a862e1f350e7b57da34f15824d21d1d37">dt</a>, const <a class="el" href="a02197.html">mc_rtc::Configuration</a> &amp;config={})</td></tr>
<tr class="separator:a0f9f2d8b07a93f2fe3b55e48406835d3 inherit pub_methods_a02009"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afe80cec7744a72c627f17990a74e890b inherit pub_methods_a02009"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a02009.html#afe80cec7744a72c627f17990a74e890b">~Observer</a> ()</td></tr>
<tr class="separator:afe80cec7744a72c627f17990a74e890b inherit pub_methods_a02009"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5faf70047c2be78645564f90a8053bff inherit pub_methods_a02009"><td class="memItemLeft" align="right" valign="top">virtual const std::string &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a02009.html#a5faf70047c2be78645564f90a8053bff">name</a> () const</td></tr>
<tr class="separator:a5faf70047c2be78645564f90a8053bff inherit pub_methods_a02009"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a862e1f350e7b57da34f15824d21d1d37 inherit pub_methods_a02009"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a02009.html#a862e1f350e7b57da34f15824d21d1d37">dt</a> () const</td></tr>
<tr class="separator:a862e1f350e7b57da34f15824d21d1d37 inherit pub_methods_a02009"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a261f51b20ca1d1a57500ae40b6e4093b inherit pub_methods_a02009"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a02009.html#a261f51b20ca1d1a57500ae40b6e4093b">removeFromGUI</a> (<a class="el" href="a02425.html">mc_rtc::gui::StateBuilder</a> &amp;)</td></tr>
<tr class="memdesc:a261f51b20ca1d1a57500ae40b6e4093b inherit pub_methods_a02009"><td class="mdescLeft">&#160;</td><td class="mdescRight">Remove observer from gui.  <a href="a02009.html#a261f51b20ca1d1a57500ae40b6e4093b">More...</a><br /></td></tr>
<tr class="separator:a261f51b20ca1d1a57500ae40b6e4093b inherit pub_methods_a02009"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae17bf0ca1911dea768788e63bf0d45b0 inherit pub_methods_a02009"><td class="memItemLeft" align="right" valign="top">virtual const std::string &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a02009.html#ae17bf0ca1911dea768788e63bf0d45b0">desc</a> () const</td></tr>
<tr class="memdesc:ae17bf0ca1911dea768788e63bf0d45b0 inherit pub_methods_a02009"><td class="mdescLeft">&#160;</td><td class="mdescRight">Short description of the observer.  <a href="a02009.html#ae17bf0ca1911dea768788e63bf0d45b0">More...</a><br /></td></tr>
<tr class="separator:ae17bf0ca1911dea768788e63bf0d45b0 inherit pub_methods_a02009"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-types"></a>
Protected Types</h2></td></tr>
<tr class="memitem:ace7a5ef240bc42d89053419e8718eba3"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a01993.html#ace7a5ef240bc42d89053419e8718eba3">Update</a> { <br />
&#160;&#160;<a class="el" href="a01993.html#ace7a5ef240bc42d89053419e8718eba3aa1595abbb4c3a326636dd178757cd6c1">Update::Control</a>, 
<br />
&#160;&#160;<a class="el" href="a01993.html#ace7a5ef240bc42d89053419e8718eba3ada2a1b654dd8965375b17b81a0874e1d">Update::Estimator</a>
<br />
 }</td></tr>
<tr class="separator:ace7a5ef240bc42d89053419e8718eba3"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr class="memitem:a41e24212545815c92909fc647cfd4d75"><td class="memItemLeft" align="right" valign="top"><a class="el" href="a01993.html#ace7a5ef240bc42d89053419e8718eba3">Update</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a01993.html#a41e24212545815c92909fc647cfd4d75">updateFrom_</a> = <a class="el" href="a01993.html#ace7a5ef240bc42d89053419e8718eba3ada2a1b654dd8965375b17b81a0874e1d">Update::Estimator</a></td></tr>
<tr class="separator:a41e24212545815c92909fc647cfd4d75"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a66d2fa568fd183d424b8b45488fe5c87"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a01993.html#a66d2fa568fd183d424b8b45488fe5c87">fbSensorName_</a></td></tr>
<tr class="separator:a66d2fa568fd183d424b8b45488fe5c87"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7b67ccbf5ae607a9ed7227d64825d4fe"><td class="memItemLeft" align="right" valign="top"><a class="elRef" doxygen="https://jrl-umi3218.github.io/SpaceVecAlg/doxygen/HEAD/SpaceVecAlg.doxytag:https://jrl-umi3218.github.io/SpaceVecAlg/doxygen/HEAD/" href="https://jrl-umi3218.github.io/SpaceVecAlg/doxygen/HEAD/a00067.html#a259dde998fab6de957995eedfdb4d179">sva::PTransformd</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a01993.html#a7b67ccbf5ae607a9ed7227d64825d4fe">posW_</a></td></tr>
<tr class="separator:a7b67ccbf5ae607a9ed7227d64825d4fe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4d5cc646377a58ef243bf1d6b8c10f5e"><td class="memItemLeft" align="right" valign="top"><a class="elRef" doxygen="https://jrl-umi3218.github.io/SpaceVecAlg/doxygen/HEAD/SpaceVecAlg.doxytag:https://jrl-umi3218.github.io/SpaceVecAlg/doxygen/HEAD/" href="https://jrl-umi3218.github.io/SpaceVecAlg/doxygen/HEAD/a00067.html#afc16c15a4fbcc2d8cf5676551b74816d">sva::MotionVecd</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a01993.html#a4d5cc646377a58ef243bf1d6b8c10f5e">velW_</a></td></tr>
<tr class="separator:a4d5cc646377a58ef243bf1d6b8c10f5e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pro_attribs_a02009"><td colspan="2" onclick="javascript:toggleInherit('pro_attribs_a02009')"><img src="closed.png" alt="-"/>&#160;Protected Attributes inherited from <a class="el" href="a02009.html">mc_observers::Observer</a></td></tr>
<tr class="memitem:a2e3f65fb8549873b71b1eeda29c1b363 inherit pro_attribs_a02009"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a02009.html#a2e3f65fb8549873b71b1eeda29c1b363">name_</a></td></tr>
<tr class="separator:a2e3f65fb8549873b71b1eeda29c1b363 inherit pro_attribs_a02009"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adde90bcccecab614f391f6d515d435fa inherit pro_attribs_a02009"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a02009.html#adde90bcccecab614f391f6d515d435fa">dt_</a></td></tr>
<tr class="separator:adde90bcccecab614f391f6d515d435fa inherit pro_attribs_a02009"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a09b5945fa09bf14489d9796d43df60b9 inherit pro_attribs_a02009"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a02009.html#a09b5945fa09bf14489d9796d43df60b9">desc_</a></td></tr>
<tr class="separator:a09b5945fa09bf14489d9796d43df60b9 inherit pro_attribs_a02009"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p><a class="el" href="a01993.html">BodySensorObserver</a> is responsible for updating the state of the realRobot's floating base from sensor measurements expressed as BodySensors. It essentially replaces the old way of updating the realRobot (using <code>"UpdateRealFromSensors": true</code>).</p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="a01993.html#a2a497aef03e071004c926032776ac520" title="Determines the pose of the floating base. ">BodySensorObserver::run()</a> for usage requirements</dd></dl>
<p>Default configuration estimates the floating base pose from the "FloatingBase" bodysensor.</p>
<div class="fragment"><div class="line">&quot;BodySensor&quot;:</div><div class="line">{</div><div class="line">  // Valid values are [&quot;control&quot;, &quot;estimator&quot;]</div><div class="line">  &quot;UpdateFrom&quot;: &quot;estimator&quot;,</div><div class="line">  &quot;FloatingBaseSensorName&quot;: &quot;FloatingBase&quot;,</div><div class="line">}</div></div><!-- fragment --> </div><h2 class="groupheader">Member Enumeration Documentation</h2>
<a id="ace7a5ef240bc42d89053419e8718eba3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ace7a5ef240bc42d89053419e8718eba3">&#9670;&nbsp;</a></span>Update</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="a01993.html#ace7a5ef240bc42d89053419e8718eba3">mc_observers::BodySensorObserver::Update</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">strong</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="ace7a5ef240bc42d89053419e8718eba3aa1595abbb4c3a326636dd178757cd6c1"></a>Control&#160;</td><td class="fielddoc"><p>Use the control robot floating base state. </p>
</td></tr>
<tr><td class="fieldname"><a id="ace7a5ef240bc42d89053419e8718eba3ada2a1b654dd8965375b17b81a0874e1d"></a>Estimator&#160;</td><td class="fielddoc"><p>Use the body sensor to determine the floating base pose. </p>
</td></tr>
</table>

</div>
</div>
<h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="aad52d430f0c328c986a14d2a8a9a7b17"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aad52d430f0c328c986a14d2a8a9a7b17">&#9670;&nbsp;</a></span>BodySensorObserver()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">mc_observers::BodySensorObserver::BodySensorObserver </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>dt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="a02197.html">mc_rtc::Configuration</a> &amp;&#160;</td>
          <td class="paramname"><em>config</em> = <code>{}</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="abf71106c03fdf82b9e342a51bd7f4ea6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abf71106c03fdf82b9e342a51bd7f4ea6">&#9670;&nbsp;</a></span>addToGUI()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void mc_observers::BodySensorObserver::addToGUI </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="a01965.html">mc_control::MCController</a> &amp;&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a02425.html">mc_rtc::gui::StateBuilder</a> &amp;&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Add observer information the GUI. </p>
<p>Default implementation does nothing, each observer implementation is responsible for adding its own elements to the GUI. Default observers will be shown under the tab "Observers-&gt;observer name". </p>

<p>Reimplemented from <a class="el" href="a02009.html#a0957402752e8564b876c86f305ebbe2f">mc_observers::Observer</a>.</p>

</div>
</div>
<a id="a164f25654c0fc7ef6d08e5c052260445"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a164f25654c0fc7ef6d08e5c052260445">&#9670;&nbsp;</a></span>addToLogger()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void mc_observers::BodySensorObserver::addToLogger </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="a01965.html">mc_control::MCController</a> &amp;&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a02517.html">mc_rtc::Logger</a> &amp;&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Add observer to the logger. </p>
<p>Default implementation does nothing, each observer implementation is responsible for logging its own data by overriding this function </p>

<p>Reimplemented from <a class="el" href="a02009.html#aa1a2253dad0a8adcb7eb376dc0861af0">mc_observers::Observer</a>.</p>

</div>
</div>
<a id="a40a80d57f8974b3af7d4f65df95161ab"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a40a80d57f8974b3af7d4f65df95161ab">&#9670;&nbsp;</a></span>posW()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="elRef" doxygen="https://jrl-umi3218.github.io/SpaceVecAlg/doxygen/HEAD/SpaceVecAlg.doxytag:https://jrl-umi3218.github.io/SpaceVecAlg/doxygen/HEAD/" href="https://jrl-umi3218.github.io/SpaceVecAlg/doxygen/HEAD/a00067.html#a259dde998fab6de957995eedfdb4d179">sva::PTransformd</a>&amp; mc_observers::BodySensorObserver::posW </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get floating-base pose in the world frame. </p>

</div>
</div>
<a id="aa36833218c888dbeee8d98e4994d43f1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa36833218c888dbeee8d98e4994d43f1">&#9670;&nbsp;</a></span>removeFromLogger()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void mc_observers::BodySensorObserver::removeFromLogger </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="a02517.html">mc_rtc::Logger</a> &amp;&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Remove observer from logger. </p>
<p>Default implementation does nothing, each observer implementation is responsible for removing all logs entry that it added. </p>

<p>Reimplemented from <a class="el" href="a02009.html#ac81467221a6c73328b0ee45fa7327eb3">mc_observers::Observer</a>.</p>

</div>
</div>
<a id="a23564250186a2e8780df9150945dad63"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a23564250186a2e8780df9150945dad63">&#9670;&nbsp;</a></span>reset()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void mc_observers::BodySensorObserver::reset </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="a01965.html">mc_control::MCController</a> &amp;&#160;</td>
          <td class="paramname"><em>ctl</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Resets the observer. </p>
<p>Default implementation ensures that the BodySensor provided in the configuration exists and compute the initial floating base pose (calls <a class="el" href="a01993.html#a2a497aef03e071004c926032776ac520" title="Determines the pose of the floating base. ">run()</a>)</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ctl</td><td>The controller running this observer </td></tr>
  </table>
  </dd>
</dl>

<p>Implements <a class="el" href="a02009.html#aa59bc21df7afff4f66cecc9315898c6b">mc_observers::Observer</a>.</p>

</div>
</div>
<a id="a2a497aef03e071004c926032776ac520"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2a497aef03e071004c926032776ac520">&#9670;&nbsp;</a></span>run()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool mc_observers::BodySensorObserver::run </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="a01965.html">mc_control::MCController</a> &amp;&#160;</td>
          <td class="paramname"><em>ctl</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Determines the pose of the floating base. </p>
<p>The pose of the floating base is determined depending on the update type chosen:</p><ul>
<li><a class="el" href="a01993.html#ace7a5ef240bc42d89053419e8718eba3aa1595abbb4c3a326636dd178757cd6c1" title="Use the control robot floating base state. ">Update::Control</a>: copies the floating base position from the control robot (no estimation)</li>
<li><a class="el" href="a01993.html#ace7a5ef240bc42d89053419e8718eba3ada2a1b654dd8965375b17b81a0874e1d" title="Use the body sensor to determine the floating base pose. ">Update::Estimator</a>: Computes the position of the floating base from a BodySensor and the kinematic chain between it and the floating base. If the BodySensor is not directly attached to the floating base link, this estimator requires accurate estimation of the real robot's forward kinematics. It is assumed here that the floating base sensor and encoders are synchronized. A typical pipeline will achieve this by running the <a class="el" href="a01997.html">EncoderObserver</a> observer before the <a class="el" href="a01993.html">BodySensorObserver</a></li>
</ul>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ctl</td><td>The controller instance running this observer </td></tr>
  </table>
  </dd>
</dl>

<p>Implements <a class="el" href="a02009.html#a4805153c7a65f4f5ff444fdfd6528d73">mc_observers::Observer</a>.</p>

</div>
</div>
<a id="aa499d558eec971e714a924f1fb9d0722"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa499d558eec971e714a924f1fb9d0722">&#9670;&nbsp;</a></span>updateRobots()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void mc_observers::BodySensorObserver::updateRobots </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="a01965.html">mc_control::MCController</a> &amp;&#160;</td>
          <td class="paramname"><em>ctl</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a02161.html">mc_rbdyn::Robots</a> &amp;&#160;</td>
          <td class="paramname"><em>realRobots</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Update realRobots floating base from its estimated pose. </p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="a01993.html#a2a497aef03e071004c926032776ac520" title="Determines the pose of the floating base. ">run</a> for usage requirements</dd></dl>
<dl class="section note"><dt>Note</dt><dd>Calls rbd::forwardKinematics and rbd::forwardVelocity</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">realRobots</td><td>Current implementation updates realRobots.robot() </td></tr>
  </table>
  </dd>
</dl>

<p>Implements <a class="el" href="a02009.html#a7c2325f9b7cc610db1f7f459198217ee">mc_observers::Observer</a>.</p>

</div>
</div>
<a id="a96afc25baaad80aa4c09d6619eb3be56"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a96afc25baaad80aa4c09d6619eb3be56">&#9670;&nbsp;</a></span>velW()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="elRef" doxygen="https://jrl-umi3218.github.io/SpaceVecAlg/doxygen/HEAD/SpaceVecAlg.doxytag:https://jrl-umi3218.github.io/SpaceVecAlg/doxygen/HEAD/" href="https://jrl-umi3218.github.io/SpaceVecAlg/doxygen/HEAD/a00067.html#afc16c15a4fbcc2d8cf5676551b74816d">sva::MotionVecd</a>&amp; mc_observers::BodySensorObserver::velW </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get floating-base velocity in the world frame. </p>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="a66d2fa568fd183d424b8b45488fe5c87"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a66d2fa568fd183d424b8b45488fe5c87">&#9670;&nbsp;</a></span>fbSensorName_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::string mc_observers::BodySensorObserver::fbSensorName_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a7b67ccbf5ae607a9ed7227d64825d4fe"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7b67ccbf5ae607a9ed7227d64825d4fe">&#9670;&nbsp;</a></span>posW_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="elRef" doxygen="https://jrl-umi3218.github.io/SpaceVecAlg/doxygen/HEAD/SpaceVecAlg.doxytag:https://jrl-umi3218.github.io/SpaceVecAlg/doxygen/HEAD/" href="https://jrl-umi3218.github.io/SpaceVecAlg/doxygen/HEAD/a00067.html#a259dde998fab6de957995eedfdb4d179">sva::PTransformd</a> mc_observers::BodySensorObserver::posW_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a41e24212545815c92909fc647cfd4d75"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a41e24212545815c92909fc647cfd4d75">&#9670;&nbsp;</a></span>updateFrom_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="a01993.html#ace7a5ef240bc42d89053419e8718eba3">Update</a> mc_observers::BodySensorObserver::updateFrom_ = <a class="el" href="a01993.html#ace7a5ef240bc42d89053419e8718eba3ada2a1b654dd8965375b17b81a0874e1d">Update::Estimator</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a4d5cc646377a58ef243bf1d6b8c10f5e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4d5cc646377a58ef243bf1d6b8c10f5e">&#9670;&nbsp;</a></span>velW_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="elRef" doxygen="https://jrl-umi3218.github.io/SpaceVecAlg/doxygen/HEAD/SpaceVecAlg.doxytag:https://jrl-umi3218.github.io/SpaceVecAlg/doxygen/HEAD/" href="https://jrl-umi3218.github.io/SpaceVecAlg/doxygen/HEAD/a00067.html#afc16c15a4fbcc2d8cf5676551b74816d">sva::MotionVecd</a> mc_observers::BodySensorObserver::velW_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.8.6-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="a00718.html">mc_observers</a></li><li class="navelem"><a class="el" href="a01993.html">BodySensorObserver</a></li>
    <li class="footer">Generated on Tue May 12 2020 02:35:03 for mc_rtc by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
