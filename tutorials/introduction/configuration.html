




  
    
    
    

<!DOCTYPE html>
<html lang="en">

  <head>
    <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="description" content="">
<meta name="author" content="">

<link rel="apple-touch-icon" sizes="180x180" href="/mc_rtc/assets/favicons/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="/mc_rtc/assets/favicons/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/mc_rtc/assets/favicons/favicon-16x16.png">
<link rel="manifest" href="/mc_rtc/assets/favicons/site.webmanifest">
<link rel="mask-icon" href="/mc_rtc/assets/favicons/safari-pinned-tab.svg" color="#5bbad5">
<meta name="msapplication-TileColor" content="#da532c">
<meta name="theme-color" content="#ffffff">


<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" integrity="sha384-JcKb8q3iqJ61gNV9KGb8thSsNjpSL0n8PARn9HuZOnIxN0hoP+VmmDGMN5t9UJ0Z" crossorigin="anonymous">

<script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js" integrity="sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN" crossorigin="anonymous"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js" integrity="sha384-B4gt1jrGC7Jh4AgTPSdUtOBvfO8shuf57BaghqFfPlYxofvL8/KUEfYiJOMMV+rV" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js"></script>





<link href="/mc_rtc/css/mc_rtc.css" rel="stylesheet">

    <title>Tutorials - Configuring mc_rtc and its components - mc_rtc</title>
  </head>

  <body>
    <header class="navbar navbar-expand-lg navbar-light bg-light sticky-top" role="navigation">
  <a class="navbar-brand" href="/mc_rtc/index.html"><img src="/mc_rtc/assets/logo.png" alt="logo" width="30" height="30"/> mc_rtc</a>
  <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarText" aria-controls="navbarText" aria-expanded="false" aria-label="Toggle navigation">
    <span class="navbar-toggler-icon"></span>
  </button>
  <div class="collapse navbar-collapse" id="navbarText">
    <div class="navbar-nav mr-auto">
      
        
        
        <a class="nav-item nav-link " href="/mc_rtc/interfaces.html">Interfaces</a>
      
        
        
        <a class="nav-item nav-link " href="/mc_rtc/robots.html">Robots</a>
      
        
        
        <a class="nav-item nav-link active" href="/mc_rtc/tutorials.html">Tutorials</a>
      
        
        
        <a class="nav-item nav-link " href="/mc_rtc/doxygen.html">API documentation</a>
      
        
        
        <a class="nav-item nav-link " href="/mc_rtc/json.html">JSON/YAML documentation</a>
      
      <a class="nav-item nav-link" href="https://mc-rtc-demo.netlify.app/" target="blank_">Online demonstration</a>
    </div>
    
      
      
      
      EN
      
      
        &nbsp;|&nbsp;
      
    
      
      
      
        <a href="/mc_rtc/jp/tutorials/introduction/configuration.html">
      
      JP
      
        </a>
      
      
        &nbsp;&nbsp;&nbsp;
      
    
    <a href="https://github.com/jrl-umi3218/mc_rtc" target="blank_"><svg height="25" width="25" class="octicon octicon-mark-github" viewBox="0 0 16 16" version="1.1" aria-hidden="true"><path d="M8 0c4.42 0 8 3.58 8 8a8.013 8.013 0 0 1-5.45 7.59c-.4.08-.55-.17-.55-.38 0-.27.01-1.13.01-2.2 0-.75-.25-1.23-.54-1.48 1.78-.2 3.65-.88 3.65-3.95 0-.88-.31-1.59-.82-2.15.08-.2.36-1.02-.08-2.12 0 0-.67-.22-2.2.82-.64-.18-1.32-.27-2-.27-.68 0-1.36.09-2 .27-1.53-1.03-2.2-.82-2.2-.82-.44 1.1-.16 1.92-.08 2.12-.51.56-.82 1.28-.82 2.15 0 3.06 1.86 3.75 3.64 3.95-.23.2-.44.55-.51 1.07-.46.21-1.61.55-2.33-.66-.15-.24-.6-.83-1.23-.82-.67.01-.27.38.01.53.34.19.73.9.82 1.13.16.45.68 1.31 2.69.94 0 .67.01 1.3.01 1.49 0 .21-.15.45-.55.38A7.995 7.995 0 0 1 0 8c0-4.42 3.58-8 8-8Z"></path></svg></a>
  </div>
</header>


    <div class="container-fluid">
      <div class="row">
      <div class="col col-lg-3">
        <div class="sticky-top sticky-toc">
          <div class="accordion" id="accordionTutorials">
            <div class="card">
              <div class="card-header" id="headingOtherTutorials">
                <button class="btn btn-link btn-block text-left" type="button" data-toggle="collapse" data-target="#collapseOtherTutorials" aria-expanded="true" aria-controls="collapseOtherTutorials">
                  Other tutorials
                </button>
              </div>
              <div id="collapseOtherTutorials" class="collapse" arial-labelledby="headingOtherTutorials" data-parent="#accordionTutorials">
                <div class="card-body">
                  <ul>
                    
                    <li>Introduction</li>
                    <ul>
                      
                        
                        <li><a href="/mc_rtc/tutorials/introduction/installation-guide.html">Installation guide</a></li>
                        
                      
                        
                        <li><strong>Configuring mc_rtc and its components</strong></li>
                          
                        
                      
                        
                        <li><a href="/mc_rtc/tutorials/introduction/running-a-controller.html">Running a controller</a></li>
                        
                      
                        
                        <li><a href="/mc_rtc/tutorials/introduction/first-controller.html">Your first controller with mc_rtc</a></li>
                        
                      
                        
                        <li><a href="/mc_rtc/tutorials/introduction/com-controller.html">Controlling the CoM</a></li>
                        
                      
                        
                        <li><a href="/mc_rtc/tutorials/introduction/ef-controller.html">Controlling an end-effector (and loading)</a></li>
                        
                      
                        
                        <li><a href="/mc_rtc/tutorials/introduction/multi-robot-controller.html">Multi-robot controller</a></li>
                        
                      
                    </ul>
                    
                    <li>Framework usage</li>
                    <ul>
                      
                        
                        <li><a href="/mc_rtc/tutorials/usage/mc_rtc_configuration.html"><code>mc_rtc::Configuration</code> general purpose configuration</a></li>
                        
                      
                        
                        <li><a href="/mc_rtc/tutorials/usage/logging.html">Logging data</a></li>
                        
                      
                        
                        <li><a href="/mc_rtc/tutorials/usage/console-logging.html">Printing information to the screen</a></li>
                        
                      
                        
                        <li><a href="/mc_rtc/tutorials/usage/gui.html">Graphical User Interface (GUI)</a></li>
                        
                      
                        
                        <li><a href="/mc_rtc/tutorials/usage/live-plotting.html">Display plots live from the controller</a></li>
                        
                      
                        
                        <li><a href="/mc_rtc/tutorials/usage/ros.html">ROS integration</a></li>
                        
                      
                        
                        <li><a href="/mc_rtc/tutorials/usage/global-plugins.html">Using global plugins</a></li>
                        
                      
                        
                        <li><a href="/mc_rtc/tutorials/usage/schema.html">Schema structures integrated to the framework</a></li>
                        
                      
                    </ul>
                    
                    <li>Framework tools</li>
                    <ul>
                      
                        
                        <li><a href="/mc_rtc/tutorials/tools/mc_rtc_ticker-and-replay.html">mc_rtc_ticker and the Replay plugin</a></li>
                        
                      
                        
                        <li><a href="/mc_rtc/tutorials/tools/mc_log_utils.html">Log manipulation</a></li>
                        
                      
                        
                        <li><a href="/mc_rtc/tutorials/tools/mc_log_ui.html">Log plotting</a></li>
                        
                      
                        
                        <li><a href="/mc_rtc/tutorials/tools/mc_log_visualization.html">Replay visualization</a></li>
                        
                      
                        
                        <li><a href="/mc_rtc/tutorials/tools/mc_surfaces_visualization.html">Visualizing surfaces</a></li>
                        
                      
                        
                        <li><a href="/mc_rtc/tutorials/tools/mc_convex_visualization.html">Visualizing convexes</a></li>
                        
                      
                    </ul>
                    
                    <li>Control recipes</li>
                    <ul>
                      
                        
                        <li><a href="/mc_rtc/tutorials/recipes/fsm.html">Using the FSM facilities</a></li>
                        
                      
                        
                        <li><a href="/mc_rtc/tutorials/recipes/fsm-main-states.html">Main FSM states</a></li>
                        
                      
                        
                        <li><a href="/mc_rtc/tutorials/recipes/fsm-example.html">FSM controller in practice</a></li>
                        
                      
                        
                        <li><a href="/mc_rtc/tutorials/recipes/derived-fsm.html">Deriving the FSM controller</a></li>
                        
                      
                        
                        <li><a href="/mc_rtc/tutorials/recipes/datastore.html">DataStore: Sharing Objects</a></li>
                        
                      
                        
                        <li><a href="/mc_rtc/tutorials/recipes/observers.html">State Observation Pipelines</a></li>
                        
                      
                        
                        <li><a href="/mc_rtc/tutorials/recipes/lipm-stabilizer.html">Using the LIPM Stabilizer</a></li>
                        
                      
                        
                        <li><a href="/mc_rtc/tutorials/recipes/speed-constraint.html">Constraint the speed of a body</a></li>
                        
                      
                        
                        <li><a href="/mc_rtc/tutorials/recipes/moving-a-contact.html">Moving a contact</a></li>
                        
                      
                        
                        <li><a href="/mc_rtc/tutorials/recipes/contact-dof.html">Change the DoF constraints on a contact</a></li>
                        
                      
                        
                        <li><a href="/mc_rtc/tutorials/recipes/joint-select.html">Select specific joints for a task</a></li>
                        
                      
                        
                        <li><a href="/mc_rtc/tutorials/recipes/dim-weight.html">Affect different weight to different axis in the task space</a></li>
                        
                      
                        
                        <li><a href="/mc_rtc/tutorials/recipes/joint-stiffness.html">Joints Stiffness</a></li>
                        
                      
                        
                        <li><a href="/mc_rtc/tutorials/recipes/com-constraint.html">Constraining the accessible region of the CoM</a></li>
                        
                      
                    </ul>
                    
                    <li>Samples</li>
                    <ul>
                      
                        
                        <li><a href="/mc_rtc/tutorials/samples/list-of-samples.html">Available sample controllers</a></li>
                        
                      
                        
                        <li><a href="/mc_rtc/tutorials/samples/sample-admittance.html">Admittance sample controller</a></li>
                        
                      
                    </ul>
                    
                    <li>Advanced topics</li>
                    <ul>
                      
                        
                        <li><a href="/mc_rtc/tutorials/advanced/new-plugin.html">Implement a new plugin for mc_rtc</a></li>
                        
                      
                        
                        <li><a href="/mc_rtc/tutorials/advanced/new-interface.html">Implement a new mc_rtc interface</a></li>
                        
                      
                        
                        <li><a href="/mc_rtc/tutorials/advanced/new-environment.html">Environment creation for mc_rtc</a></li>
                        
                      
                        
                        <li><a href="/mc_rtc/tutorials/advanced/new-robot.html">Integrate a new robot in mc_rtc</a></li>
                        
                      
                        
                        <li><a href="/mc_rtc/tutorials/advanced/support-mc-rtc-build-static.html">Supporting MC_RTC_BUILD_STATIC in your code</a></li>
                        
                      
                        
                        <li><a href="/mc_rtc/tutorials/advanced/debug-lssol-output-6.html">Debugging LSSOL output 6</a></li>
                        
                      
                    </ul>
                    
                  </ul>
                </div>
              </div>
              
                <ul id="toc" class="section-nav">
<li class="toc-entry toc-h2"><a href="#possible-locations-for-mc-rtc-configuration">Possible locations for mc_rtc configuration</a></li>
<li class="toc-entry toc-h2"><a href="#configuration-entries">Configuration entries</a>
<ul>
<li class="toc-entry toc-h6"><a href="#main-nbsp-entries">Main entries</a></li>
<li class="toc-entry toc-h6"><a href="#logging-nbsp-options">Logging options</a></li>
<li class="toc-entry toc-h6"><a href="#module-loading-options">Module loading options</a></li>
</ul>
</li>
<li class="toc-entry toc-h2"><a href="#ros-plugin-configuration">ROS plugin configuration</a>
<ul>
<li class="toc-entry toc-h4"><a href="#possible-locations">Possible locations</a></li>
<li class="toc-entry toc-h4"><a href="#configuration-entries">Configuration entries</a>
<ul>
<li class="toc-entry toc-h6"><a href="#publish-nbsp-entries">publish entries</a></li>
</ul>
</li>
<li class="toc-entry toc-h4"><a href="#sample-configuration">Sample configuration</a></li>
</ul>
</li>
<li class="toc-entry toc-h2"><a href="#controller-configuration">Controller configuration</a>
<ul>
<li class="toc-entry toc-h4"><a href="#controller-s-robot-specific-configuration">Controller&#39;s robot specific configuration</a></li>
</ul>
</li>
</ul>
              
            </div>
          </div>
        </div>
      </div>
      <div class="col-9" id="tutorial-content">
        
        <h1>Configuring mc_rtc and its components</h1>
        

        <p>Regardless of the interface you use, general options for mc_rtc are provided through the configuration files present on your system. Morever, some interfaces will let you specify another configuration file (often on the command line).</p>

<p>This section covers both the different location where it might be loaded from as well as the main options that can be used in the file.</p>

<h2 id="possible-locations-for-mc-rtc-configuration">Possible locations for mc_rtc configuration</h2>


<p>The following two files will be systematically read by mc_rtc (if they exist):</p>

<ol>
  <li><code class="highlight language-bash" data-lang="bash"><span class="nv">$INSTALL_PREFIX</span>/etc/mc_rtc.yaml</code></li>
  <li><ul><li>Linux/MacOS: <code class="highlight language-bash" data-lang="bash"><span class="nv">$HOME</span>/.config/mc_rtc/mc_rtc.yaml</code></li><li>Windows: <code class="highlight language-msshell" data-lang="msshell"><span class="o">%</span><span class="n">APPDATA</span><span class="o">%</span><span class="nx">/mc_rtc/mc_rtc.yaml</span></code></li></ul></li>
</ol>

<p>The interface might load additional configuration file(s). Please refer to the interface documentation to find out about that.</p>

<h2 id="configuration-entries">Configuration entries</h2>


<table class="table">
  <thead>
    <tr>
      <th scope="col">Entry</th>
      <th scope="col">Description</th>
      <th scope="col">Example/Default</th>
    </tr>
  </thead>
  <tbody>
    <tr class="table-active">
      <th scope="row">
        <h6 id="main-nbsp-entries">Main&nbsp;entries</h6>

      </th>
      <td colspan="2">These entries cover most needs you might have</td>
    </tr>

    <tr>
  <th scope="row">MainRobot</th>
  <td>This entry dictates the main robot used by all controllers. Most interface cannot infer the correct module to use based on the simulation environment so this is the user's responsibility to make sure the two match.</td>
  <td>
    <figure class="highlight"><pre><code class="language-yaml" data-lang="yaml"><span class="na">MainRobot</span><span class="pi">:</span> <span class="s">JVRC1</span></code></pre></figure>
    
      <p>or</p>
      <figure class="highlight"><pre><code class="language-yaml" data-lang="yaml"><span class="c1"># Support renaming the robot</span>
<span class="na">MainRobot</span><span class="pi">:</span>
  <span class="na">name</span><span class="pi">:</span> <span class="s">MyRobot</span>
  <span class="na">module</span><span class="pi">:</span> <span class="s">JVRC1</span></code></pre></figure>
    
  </td>
</tr>

    <tr>
      <th scope="row">Enabled</th>
      <td>Provides a list of enabled controllers. See the <a href="/mc_rtc/tutorials/samples/list-of-samples.html">list of all available sample controllers</a>.</td>
      <td><figure class="highlight"><pre><code class="language-yaml" data-lang="yaml"><span class="na">Enabled</span><span class="pi">:</span> <span class="pi">[</span><span class="nv">Posture</span><span class="pi">,</span> <span class="nv">EndEffector</span><span class="pi">,</span> <span class="nv">CoM</span><span class="pi">]</span></code></pre></figure></td>
    </tr>
    <tr>
  <th scope="row">Default</th>
  <td>Select which of the enabled controllers will be started first. Note that if the default controller is not enabled or if no default entry is provided then the first enabled controller in the list is chosen as a default controller.</td>
  <td>
    <figure class="highlight"><pre><code class="language-yaml" data-lang="yaml"><span class="na">Default</span><span class="pi">:</span> <span class="s">Posture</span></code></pre></figure>
    
  </td>
</tr>

    <tr>
  <th scope="row">Timestep</th>
  <td>The controller's timestep.</td>
  <td>
    <figure class="highlight"><pre><code class="language-yaml" data-lang="yaml"><span class="na">Timestep</span><span class="pi">:</span> <span class="s">0.005</span></code></pre></figure>
    
  </td>
</tr>

    <tr>
  <th scope="row">Log</th>
  <td>Dictate whether or not controllers will log their output.</td>
  <td>
    <figure class="highlight"><pre><code class="language-yaml" data-lang="yaml"><span class="na">Log</span><span class="pi">:</span> <span class="no">true</span></code></pre></figure>
    
  </td>
</tr>

    <tr>
  <th scope="row">InitAttitudeFromSensor</th>
  <td>Intialize the robot's attitude from sensor or the robot module</td>
  <td>
    <figure class="highlight"><pre><code class="language-yaml" data-lang="yaml"><span class="na">InitAttitudeFromSensor</span><span class="pi">:</span> <span class="no">false</span></code></pre></figure>
    
  </td>
</tr>

    <tr>
  <th scope="row">InitAttitudeSensor</th>
  <td>Name of the BodySensor used for initialization of the robot's attitude. An empty name uses the default body sensor. Only used when <pre>InitAttitudeFromSensor=true</pre></td>
  <td>
    <figure class="highlight"><pre><code class="language-yaml" data-lang="yaml"><span class="na">InitAttitudeSensor</span><span class="pi">:</span> <span class="s2">"</span><span class="s">"</span></code></pre></figure>
    
  </td>
</tr>

    <tr class="table-active">
      <th scope="row">
        <h6 id="logging-nbsp-options">Logging&nbsp;options</h6>

      </th>
      <td colspan="2">The following options affect the way mc_rtc deals with controller activity logging. They have no effect if logging is disabled.</td>
    </tr>
    <tr>
  <th scope="row">LogDirectory</th>
  <td>This option dictates where the log files will be stored, defaults to a system temporary directory</td>
  <td>
    <figure class="highlight"><pre><code class="language-yaml" data-lang="yaml"><span class="na">LogDirectory</span><span class="pi">:</span> <span class="s2">"</span><span class="s">/tmp"</span></code></pre></figure>
    
  </td>
</tr>

    <tr>
  <th scope="row">LogTemplate</th>
  <td>This option dictates the prefix of the log. The log file will then have the name: <pre>[LogTemplate]-[ControllerName]-[date].log</pre></td>
  <td>
    <figure class="highlight"><pre><code class="language-yaml" data-lang="yaml"><span class="na">LogTemplate</span><span class="pi">:</span> <span class="s2">"</span><span class="s">mc-control"</span></code></pre></figure>
    
  </td>
</tr>

    <tr>
  <th scope="row">LogPolicy</th>
  <td>This option dictates whether logging-related disk operations happen in a separate thread ("threaded") or in the same thread as the run() loop ("non-threaded"). This defaults to the non-threaded policy. On real-time systems, the threaded policy is strongly advised.</td>
  <td>
    <figure class="highlight"><pre><code class="language-yaml" data-lang="yaml"><span class="na">LogPolicy</span><span class="pi">:</span> <span class="s2">"</span><span class="s">non-threaded"</span></code></pre></figure>
    
  </td>
</tr>

    <tr class="table-active">
      <th scope="row">
        <h6 id="module-loading-options">Module loading options</h6>

      </th>
      <td colspan="2">
The following options control the way mc_rtc loads additional modules from libraries (controllers, robot modules, observers, plugins).
      </td>
    </tr>
    <tr>
  <th scope="row">ControllerModulePaths</th>
  <td>This option allow you to specify <strong>additional</strong> directories where mc_rtc will look for controller modules.</td>
  <td>
    <figure class="highlight"><pre><code class="language-yaml" data-lang="yaml"><span class="na">ControllerModulePaths</span><span class="pi">:</span> <span class="pi">[</span><span class="s2">"</span><span class="s">/one/path/to/controller/"</span><span class="pi">,</span> <span class="s2">"</span><span class="s">/another/path/"</span><span class="pi">]</span></code></pre></figure>
    
  </td>
</tr>

    <tr>
  <th scope="row">RobotModulePaths</th>
  <td>This option allow you to specify <strong>additional</strong> directories where mc_rtc will look for robot modules.</td>
  <td>
    <figure class="highlight"><pre><code class="language-yaml" data-lang="yaml"><span class="na">RobotModulePaths</span><span class="pi">:</span> <span class="pi">[</span><span class="s2">"</span><span class="s">/one/path/to/robot/"</span><span class="pi">,</span> <span class="s2">"</span><span class="s">/another/path/"</span><span class="pi">]</span></code></pre></figure>
    
  </td>
</tr>

    <tr>
  <th scope="row">ObserverModulePaths</th>
  <td>This option allow you to specify <strong>additional</strong> directories where mc_rtc will look for state observation modules.</td>
  <td>
    <figure class="highlight"><pre><code class="language-yaml" data-lang="yaml"><span class="na">ObserverModulePaths</span><span class="pi">:</span> <span class="pi">[</span><span class="s2">"</span><span class="s">/one/path/to/observer/"</span><span class="pi">,</span> <span class="s2">"</span><span class="s">/another/path/"</span><span class="pi">]</span></code></pre></figure>
    
  </td>
</tr>

    <tr>
  <th scope="row">GlobalPluginPaths</th>
  <td>This option allow you to specify <strong>additional</strong> directories where mc_rtc will look for global plugins.</td>
  <td>
    <figure class="highlight"><pre><code class="language-yaml" data-lang="yaml"><span class="na">GlobalPluginPaths</span><span class="pi">:</span> <span class="pi">[</span><span class="s2">"</span><span class="s">/one/path/to/global/plugin/"</span><span class="pi">,</span> <span class="s2">"</span><span class="s">/another/path/"</span><span class="pi">]</span></code></pre></figure>
    
  </td>
</tr>

  </tbody>
</table>

<h2 id="ros-plugin-configuration">ROS plugin configuration</h2>


<h4 id="possible-locations">Possible locations</h4>


<p>The following two files will be systematically read by mc_rtc (if they exist):</p>

<ol>
  <li><code class="highlight language-bash" data-lang="bash"><span class="k">${</span><span class="nv">MC_PLUGINS_RUNTIME_INSTALL_PREFIX</span><span class="k">}</span>/etc/ROS.yaml</code></li>
  <li><ul><li>Linux/MacOS: <code class="highlight language-bash" data-lang="bash"><span class="nv">$HOME</span>/.config/mc_rtc/plugins/ROS.yaml</code></li><li>Windows: <code class="highlight language-msshell" data-lang="msshell"><span class="o">%</span><span class="n">APPDATA</span><span class="o">%</span><span class="nx">/mc_rtc/plugins/ROS.yaml</span></code></li></ul></li>
</ol>

<h4 id="configuration-entries">Configuration entries</h4>


<p>The following table describes each possible sections in the ROS plugin configuration and their possible entries.</p>

<table class="table">
  <thead>
    <tr>
      <th scope="col">Entry</th>
      <th scope="col">Description</th>
      <th scope="col">Example/Default</th>
    </tr>
  </thead>
  <tbody>
    <tr class="table-active">
      <th scope="row">
        <h6 id="publish-nbsp-entries">publish&nbsp;entries</h6>

      </th>
      <td colspan="2">The following options only affect the publication of the robot's state in ROS.</td>
    </tr>
    <tr>
  <th scope="row">control</th>
  <td>Publish the robot's control state (mc_rtc controller output).</td>
  <td>
    <figure class="highlight"><pre><code class="language-yaml" data-lang="yaml"><span class="na">control</span><span class="pi">:</span> <span class="no">true</span></code></pre></figure>
    
  </td>
</tr>

    <tr>
  <th scope="row">env</th>
  <td>Publish other robots control state (mc_rtc controller output for the non-main robot).</td>
  <td>
    <figure class="highlight"><pre><code class="language-yaml" data-lang="yaml"><span class="na">env</span><span class="pi">:</span> <span class="no">true</span></code></pre></figure>
    
  </td>
</tr>

    <tr>
  <th scope="row">real</th>
  <td>Publish the robot's observed state (i.e. the robot's state obtained from the observer pipeline).</td>
  <td>
    <figure class="highlight"><pre><code class="language-yaml" data-lang="yaml"><span class="na">real</span><span class="pi">:</span> <span class="no">true</span></code></pre></figure>
    
  </td>
</tr>

    <tr>
  <th scope="row">timestep</th>
  <td>Control the publication rate of the robot's controlled and real state.</td>
  <td>
    <figure class="highlight"><pre><code class="language-yaml" data-lang="yaml"><span class="na">timestep</span><span class="pi">:</span> <span class="s">0.01</span></code></pre></figure>
    
  </td>
</tr>

  </tbody>
</table>

<h4 id="sample-configuration">Sample configuration</h4>


<div class="card bg-light card-source">
  <div class="card-body">
<figure class="highlight"><pre><code class="language-yaml" data-lang="yaml"><span class="c1"># Control which data we publish and publishing rate</span>
<span class="na">publish</span><span class="pi">:</span>
  <span class="c1"># Publish the state of the controlled robot (ROS)</span>
  <span class="na">control</span><span class="pi">:</span> <span class="no">true</span>
  <span class="c1"># Publish the state of the other robots (ROS)</span>
  <span class="na">env</span><span class="pi">:</span> <span class="no">true</span>
  <span class="c1"># Publish the state of the real robot (ROS)</span>
  <span class="na">real</span><span class="pi">:</span> <span class="no">true</span>
  <span class="c1"># Timestep of publication (ROS)</span>
  <span class="na">timestep</span><span class="pi">:</span> <span class="s">0.01</span></code></pre></figure>
  </div>
</div>

<h2 id="controller-configuration">Controller configuration</h2>


<p>For a given controller <code class="highlight language-bash" data-lang="bash">NAME</code>, the following configuration files are loaded:</p>

<ol>
  <li><code class="highlight language-bash" data-lang="bash"><span class="k">${</span><span class="nv">NAME_RUNTIME_LOCATION</span><span class="k">}</span>/etc/<span class="k">${</span><span class="nv">NAME</span><span class="k">}</span>.yaml</code></li>
  <li>
    <ul>
      <li>Linux/MacOS: <code class="highlight language-bash" data-lang="bash"><span class="k">${</span><span class="nv">HOME</span><span class="k">}</span>/.config/mc_rtc/controllers/<span class="k">${</span><span class="nv">NAME</span><span class="k">}</span>.yaml</code></li>
      <li>Windows: <code class="highlight language-msshell" data-lang="msshell"><span class="o">%</span><span class="n">APPDATA</span><span class="o">%</span><span class="nx">/mc_rtc/controllers/</span><span class="o">%</span><span class="nx">NAME</span><span class="o">%.</span><span class="nf">yaml</span></code></li>
    </ul>
  </li>
</ol>

<p>The configuration loaded from those files is available in the <code class="highlight language-bash" data-lang="bash">configuration</code> parameter of the controller constructor. You can check the <a href="/mc_rtc/tutorials/usage/mc_rtc_configuration.html"><code>mc_rtc::Configuration</code> general purpose configuration</a> tutorial for more information on the configuration object.</p>

<h4 id="controller-s-robot-specific-configuration">Controller's robot specific configuration</h4>


<p>Controller can also access a robot's specific configuration &mdash; for example to set specific gains.</p>

<p>For a given controller <code class="highlight language-bash" data-lang="bash">NAME</code> and a given robot's module named <code class="highlight language-bash" data-lang="bash">ROBOT</code>, the following configuration files are loaded:</p>

<ol>
  <li><code class="highlight language-bash" data-lang="bash"><span class="k">${</span><span class="nv">NAME_RUNTIME_LOCATION</span><span class="k">}</span>/<span class="k">${</span><span class="nv">NAME</span><span class="k">}</span>/<span class="k">${</span><span class="nv">ROBOT</span><span class="k">}</span>.yaml</code></li>
  <li>
    <ul>
      <li>Linux/MacOS: <code class="highlight language-bash" data-lang="bash"><span class="k">${</span><span class="nv">HOME</span><span class="k">}</span>/.config/mc_rtc/controllers/<span class="k">${</span><span class="nv">NAME</span><span class="k">}</span>/<span class="k">${</span><span class="nv">ROBOT</span><span class="k">}</span>.yaml</code></li>
      <li>Windows: <code class="highlight language-msshell" data-lang="msshell"><span class="o">%</span><span class="n">APPDATA</span><span class="o">%</span><span class="nx">/mc_rtc/controllers/</span><span class="o">%</span><span class="nx">NAME</span><span class="o">%</span><span class="nx">/</span><span class="o">%</span><span class="nx">ROBOT</span><span class="o">%.</span><span class="nf">yaml</span></code></li>
    </ul>
  </li>
</ol>

<p>By default, these configuration files are automatically loaded into the <pre>robots</pre> section of the controller's configuration, under each robot's module name. This behavior can be disabled or modified through mc_control::ControllerParameters that are given to the controller constructor.</p>

<p>These configurations can also be accessed via the mc_control::MCController::robot_config(const mc_rbdyn::Robot & robot) method and its overload mc_control::MCController::robot_config(const std::string & name) .</p>



        <hr/>
        
        <div class="text-right">
          <a href="/mc_rtc/tutorials/introduction/running-a-controller.html">Next tutorial: Running a controller</a>
        </div>
        
      </div>
      </div>
    </div>

    <div class="container-fluid">
  <footer>
    <hr>
    <div class="row">
      <div class="col-8 offset-lg-2 col-lg-6">
        Copyright &copy; CNRS-AIST JRL, CNRS LIRMM 2015-2020
      </div>
      <div class="col-4 col-lg-2 text-right">
        <a href="/mc_rtc/credits.html">Credits</a>
      </div>
    </div>
  </footer>
</div>

  </body>

  <script type="text/javascript">
$(document).ready(function()
{
  new ClipboardJS('.copy-button');
});
</script>


</html>
